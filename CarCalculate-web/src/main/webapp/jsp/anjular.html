<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="../js/angular.min.js"></script>
    <title></title>
    <style type="text/css">
        .odd {
            background-color: blue;
        }
        .even {
            background-color: red;
        }
    </style>
</head>
<body>

<div ng-app="myApp" ng-controller="MyController">
    <input type="text"ng-model="equation.x"
           ng-change="change()" />
    <code>{{ equation.output }}</code>
</div>
</body>
<script type="text/javascript">
    var app = angular.module('myApp', []);
    //    app.run(function ($rootScope, $timeout) {
    //        $timeout(function () {
    //            $rootScope.someProperty = 'hello computer';
    //            $rootScope.someAction = function () {
    //                $rootScope.someProperty = 'hello human';
    //            };
    //        }, 3000);
    //
    //    });
    app.controller('ChildController', function($scope) {
        $scope.childAction = function() {
// 在ChildController中设置{{ someBareValue }}
            $scope.someBareValue = 'hello human, from child';
        };
    });
    app.directive('myDirective', function () {
        return {
            restrict: 'A',
            replace: true,
            template: '<a href="{{ myUrl }}">{{ myLinkText }}</a>'
        };

    });
    app.directive('hello', function () {
        return {
            restrict: 'E',
            template: '<div>Hi there <span ng-transclude></span></div>',
            transclude: true,
            replace: true
        };
    });
    app.controller('MyController', function ($scope, $parse, $interval, $timeout) {
//                $scope.persons=[
//                    {name:'tianwei',age:28,city:'china'},
//                    {name:'lucy',age:22,city:'usa'},
//                    {name:'tom',age:25,city:'us'}
//                ];
                $scope.equation={};
                $scope.change=function(){
                    $scope.equation.output=parseInt($scope.equation.x)+2;
                };
//                $scope.someBareValue = 'hello computer';
//// 设置 $scope 本身的操作，这样没问题
//                $scope.someAction = function () {
//// 在SomeController和ChildController中设置{{ someBareValue }}
//                    $scope.someBareValue = 'hello human, from parent';
//                };

//                $timeout(function () {
//                    $scope.myHref = 'http://www.baidu.com';
//                }, 3000);
//                $scope.submitted = false;
//                $scope.signupForm = function () {
//
//                    if ($scope.signup_form.$valid) {
//
//                    }
//                    else {
//                        $scope.submitted = true;
//                        alert($scope.submitted);
//                    }
//                };
//                $interval(function(){
//                    $scope.today=new Date();
//                },1000);
////             $scope.parsedExpr=$scope.expr;
//                $scope.expr=22;
//                $scope.$watch('expr', function(newVal, oldVal, scope) {
//                    if (newVal !== oldVal) {
//                        // Let's set up our parseFun with the expression
//                        var parseFun = $parse(newVal);
//                        // Get the value of the parsed expression, set it on the scope for output
//                        scope.parsedExpr = parseFun(scope);
//                    }
//                });
            }
    );
</script>
</html>